{"version":3,"sources":["components/App/App.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/PhotoCard/PhotoCard.module.css","components/Loader/Loader.js","servises/image-api.js","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["module","exports","LOADER_ROOT","document","querySelector","spinerStyle","position","transform","translate","top","left","LoaderSpiner","createPortal","type","color","height","width","timeout","style","fetchArticles","keyWord","pageNumber","key","fetch","then","response","json","data","hits","SearchForm","state","imageKeyWord","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSearch","this","className","styles","searchForm","onSubmit","autoComplete","placeholder","onChange","Component","PhotoCard","imageObj","openModal","iconRef","createRef","photoCard","src","webformatURL","alt","stats","statsItem","likes","views","comments","downloads","fullscreenButton","ref","onClick","largeImageURL","Gallery","images","gallery","map","id","modalRoot","Modal","backdropRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","overlay","role","modal","toast","configure","App","isModalOpen","error","query","fetchImages","isLoading","api","catch","finally","closeModal","prevProps","prevState","scrollTo","body","scrollHeight","behavior","app","Loader","length","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c6c6a644.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1IksY\",\"button\":\"App_button__13d5p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3tlus\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3RNHd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__9cvQ3\",\"stats\":\"PhotoCard_stats__3XRLi\",\"statsItem\":\"PhotoCard_statsItem__3wwLs\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__kFCfE\",\"galleryItem\":\"PhotoCard_galleryItem__XMqxV\"};","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/Plane.css';\n\nconst LOADER_ROOT = document.querySelector('#loaders');\nconst spinerStyle = {\n  position: 'absolute',\n  transform: '50%',\n  translate: '50%',\n  top: '50%',\n  left: '40%',\n};\n\nconst LoaderSpiner = () =>\n  createPortal(\n    <Loader\n      type=\"Plane\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={0}\n      style={spinerStyle}\n    />,\n    LOADER_ROOT,\n  );\n\nexport default LoaderSpiner;\n","const fetchArticles = (keyWord = '', pageNumber = 1) => {\n  const key = '13651482-b515d2fef8506cbb1df3a0f96';\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${keyWord}&page=${pageNumber}&per_page=12&key=${key}`,\n  )\n    .then(response => response.json())\n    .then(data => data.hits);\n};\nexport default fetchArticles;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSearch: T.func.isRequired,\n  };\n\n  state = {\n    imageKeyWord: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      imageKeyWord: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSearch(this.state.imageKeyWord);\n    this.setState({\n      imageKeyWord: '',\n    });\n  };\n\n  render() {\n    const { imageKeyWord } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n          value={imageKeyWord}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { createRef } from 'react';\nimport T from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({ imageObj, openModal }) => {\n  const iconRef = createRef();\n  return (\n    <div className={styles.photoCard}>\n      <img src={imageObj.webformatURL} alt=\"\" />\n\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {imageObj.likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {imageObj.views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {imageObj.comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {imageObj.downloads}\n        </p>\n      </div>\n\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        ref={iconRef}\n        onClick={() => {\n          openModal(imageObj.largeImageURL);\n        }}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nPhotoCard.propTypes = {\n  imageObj: T.shape({\n    webformatURL: T.string.isRequired,\n    likes: T.number.isRequired,\n    views: T.number.isRequired,\n    comments: T.number.isRequired,\n    downloads: T.number.isRequired,\n    largeImageURL: T.string.isRequired,\n  }).isRequired,\n  openModal: T.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport T from 'prop-types';\nimport PhotoCard from '../PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ images, openModal }) => {\n  return (\n    <ul className={styles.gallery}>\n      {images.map(imageObj => (\n        <li key={imageObj.id}>\n          <PhotoCard imageObj={imageObj} openModal={openModal} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nGallery.propTypes = {\n  images: T.arrayOf(\n    T.shape({\n      id: T.number,\n      pageURL: T.string,\n      type: T.string,\n      tags: T.string,\n      previewURL: T.string,\n      previewWidt: T.number,\n      previewHeigh: T.number,\n      webformatURL: T.string,\n      webformatWidt: T.number,\n      webformatHeigh: T.number,\n      largeImageURL: T.string,\n      fullHDUR: T.string,\n      imageUR: T.string,\n      imageWidt: T.number,\n      imageHeigh: T.number,\n      imageSiz: T.number,\n      views: T.number,\n      downloads: T.number,\n      favorites: T.number,\n      likes: T.number,\n      comments: T.number,\n      user_id: T.number,\n      user: T.string,\n      userImageURL: T.string,\n    }).isRequired,\n  ).isRequired,\n  openModal: T.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport T from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: T.func.isRequired,\n    largeImageURL: T.string.isRequired,\n  };\n\n  state = {};\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    if (this.backdropRef.current && e.target !== this.backdropRef.current)\n      return;\n    this.props.onClose();\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    return createPortal(\n      <div\n        className={styles.overlay}\n        ref={this.backdropRef}\n        role=\"presentation\"\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport LoaderSpiner from '../Loader';\nimport api from '../../servises/image-api';\nimport SearchForm from '../SearchForm';\nimport Gallery from '../Gallery';\nimport Modal from '../Modal';\nimport styles from './App.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nclass App extends Component {\n  state = {\n    keyWord: '',\n    images: [],\n    pageNumber: 1,\n    isModalOpen: false,\n    largeImageURL: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { keyWord } = this.state;\n    if (prevState.keyWord !== keyWord) {\n      /* eslint-disable-next-line */\n      this.setState({\n        images: [],\n      });\n      this.fetchImages();\n    }\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onSearch = query => {\n    this.setState({\n      keyWord: query,\n      pageNumber: 1,\n    });\n  };\n\n  fetchImages = () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    api(this.state.keyWord, this.state.pageNumber)\n      .then(images =>\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          pageNumber: state.pageNumber + 1,\n        })),\n      )\n      .catch(error => {\n        this.setState({ error });\n        toast.error('Something went wrong');\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  openModal = largeImageURL => {\n    this.setState({ isModalOpen: true, largeImageURL });\n  };\n\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { images, isLoading, isModalOpen, largeImageURL, error } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchForm onSearch={this.onSearch} />\n        {isLoading && <LoaderSpiner />}\n        {images.length > 0 && (\n          <Gallery\n            images={images}\n            openModal={this.openModal}\n            // onFocus={this.onFocus}\n            // onMouseOver={this.onMouseOver}\n          />\n        )}\n        {images.length > 0 && (\n          <button\n            type=\"button\"\n            className={styles.button}\n            onClick={this.fetchImages}\n          >\n            Load More\n          </button>\n        )}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} largeImageURL={largeImageURL} />\n        )}\n        {error && <ToastContainer />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport styles from './components/App/App.module.css';\nimport './index.css';\n\nReactDOM.render(\n  <App className={styles.app} />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}