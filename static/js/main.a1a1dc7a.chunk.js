(this["webpackJsonpgoit-react-hw-02-reader"]=this["webpackJsonpgoit-react-hw-02-reader"]||[]).push([[0],{10:function(e,t,a){e.exports={app:"App_app__1IksY",button:"App_button__13d5p"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},17:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},18:function(e,t,a){e.exports={gallery:"Gallery_gallery__3RNHd"}},19:function(e,t,a){e.exports=a(48)},3:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__9cvQ3",stats:"PhotoCard_stats__3XRLi",statsItem:"PhotoCard_statsItem__3wwLs",fullscreenButton:"PhotoCard_fullscreenButton__kFCfE",galleryItem:"PhotoCard_galleryItem__XMqxV"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(2),c=a.n(r),s=a(14),l=a(4),i=a(5),m=a(7),u=a(6),d=a(8),p=a(12),h=a(16),f=a.n(h),g=(a(45),document.querySelector("#loaders")),b=function(){return Object(r.createPortal)(o.a.createElement(f.a,{type:"ThreeDots",color:"#00BFFF",timeout:0}),g)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="13651482-b515d2fef8506cbb1df3a0f96";return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat(a)).then((function(e){return e.json()})).then((function(e){return e.hits}))},v=a(17),_=a.n(v),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={imageKeyWord:""},a.handleChange=function(e){a.setState({imageKeyWord:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSearch(a.state.imageKeyWord),a.setState({imageKeyWord:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.imageKeyWord;return o.a.createElement("form",{className:_.a.searchForm,onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:this.handleChange,value:e}))}}]),t}(n.Component),k=a(3),O=a.n(k),j=function(e){var t=e.imageObj,a=e.openModal,r=Object(n.createRef)();return o.a.createElement("div",{className:O.a.photoCard},o.a.createElement("img",{src:t.webformatURL,alt:""}),o.a.createElement("div",{className:O.a.stats},o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),t.likes),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),t.views),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),t.comments),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),t.downloads)),o.a.createElement("button",{type:"button",className:O.a.fullscreenButton,ref:r,onClick:function(){a(t.largeImageURL)}},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},N=a(18),C=a.n(N),w=function(e){var t=e.images,a=e.openModal;return o.a.createElement("ul",{className:C.a.gallery},t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(j,{imageObj:e,openModal:a}))})))},S=a(13),I=a.n(S),M=document.querySelector("#modal-root"),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.backdropRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackdropClick=function(e){a.backdropRef.current&&e.target!==a.backdropRef.current||a.props.onClose()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.largeImageURL;return Object(r.createPortal)(o.a.createElement("div",{className:I.a.overlay,ref:this.backdropRef,role:"presentation",onClick:this.handleBackdropClick},o.a.createElement("div",{className:I.a.modal},o.a.createElement("img",{src:e,alt:""}))),M)}}]),t}(n.Component),R=a(10),W=a.n(R);a(46);p.b.configure();var P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={keyWord:"",images:[],pageNumber:1,isModalOpen:!1,largeImageURL:"",error:null},a.onSearch=function(e){a.setState({keyWord:e,pageNumber:1})},a.fetchImages=function(){a.setState({isLoading:!0}),y(a.state.keyWord,a.state.pageNumber).then((function(e){return a.setState((function(t){return{images:[].concat(Object(s.a)(t.images),Object(s.a)(e)),pageNumber:t.pageNumber+1}}))})).catch((function(e){a.setState({error:e}),p.b.error("Something went wrong")})).finally((function(){a.setState({isLoading:!1})}))},a.openModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.state,o=n.keyWord,r=n.images;t.keyWord!==o&&(this.setState({images:[]}),this.fetchImages()),t.images!==r&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.isModalOpen,r=e.largeImageURL,c=e.error;return o.a.createElement("div",{className:W.a.app},o.a.createElement(E,{onSearch:this.onSearch}),t.length>0&&o.a.createElement(w,{images:t,openModal:this.openModal}),a&&o.a.createElement(b,null),t.length>0&&o.a.createElement("button",{type:"button",className:W.a.button,onClick:this.fetchImages},"Load More"),n&&o.a.createElement(L,{onClose:this.closeModal,largeImageURL:r}),c&&o.a.createElement(p.a,null))}}]),t}(n.Component);a(47);c.a.render(o.a.createElement(P,{className:W.a.app}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a1a1dc7a.chunk.js.map