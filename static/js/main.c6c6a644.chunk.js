(this["webpackJsonpgoit-react-hw-02-reader"]=this["webpackJsonpgoit-react-hw-02-reader"]||[]).push([[0],{10:function(e,t,a){e.exports={app:"App_app__1IksY",button:"App_button__13d5p"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},17:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},18:function(e,t,a){e.exports={gallery:"Gallery_gallery__3RNHd"}},19:function(e,t,a){e.exports=a(48)},3:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__9cvQ3",stats:"PhotoCard_stats__3XRLi",statsItem:"PhotoCard_statsItem__3wwLs",fullscreenButton:"PhotoCard_fullscreenButton__kFCfE",galleryItem:"PhotoCard_galleryItem__XMqxV"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(2),c=a.n(r),l=a(14),s=a(4),i=a(5),m=a(8),u=a(6),d=a(7),p=a(12),h=a(16),f=a.n(h),g=(a(45),document.querySelector("#loaders")),b={position:"absolute",transform:"50%",translate:"50%",top:"50%",left:"40%"},y=function(){return Object(r.createPortal)(o.a.createElement(f.a,{type:"Plane",color:"#00BFFF",height:100,width:100,timeout:0,style:b}),g)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="13651482-b515d2fef8506cbb1df3a0f96";return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat(a)).then((function(e){return e.json()})).then((function(e){return e.hits}))},_=a(17),E=a.n(_),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={imageKeyWord:""},a.handleChange=function(e){a.setState({imageKeyWord:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSearch(a.state.imageKeyWord),a.setState({imageKeyWord:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.imageKeyWord;return o.a.createElement("form",{className:E.a.searchForm,onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:this.handleChange,value:e}))}}]),t}(n.Component),O=a(3),j=a.n(O),N=function(e){var t=e.imageObj,a=e.openModal,r=Object(n.createRef)();return o.a.createElement("div",{className:j.a.photoCard},o.a.createElement("img",{src:t.webformatURL,alt:""}),o.a.createElement("div",{className:j.a.stats},o.a.createElement("p",{className:j.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),t.likes),o.a.createElement("p",{className:j.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),t.views),o.a.createElement("p",{className:j.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),t.comments),o.a.createElement("p",{className:j.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),t.downloads)),o.a.createElement("button",{type:"button",className:j.a.fullscreenButton,ref:r,onClick:function(){a(t.largeImageURL)}},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},w=a(18),C=a.n(w),S=function(e){var t=e.images,a=e.openModal;return o.a.createElement("ul",{className:C.a.gallery},t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(N,{imageObj:e,openModal:a}))})))},I=a(13),M=a.n(I),L=document.querySelector("#modal-root"),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.backdropRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackdropClick=function(e){a.backdropRef.current&&e.target!==a.backdropRef.current||a.props.onClose()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.largeImageURL;return Object(r.createPortal)(o.a.createElement("div",{className:M.a.overlay,ref:this.backdropRef,role:"presentation",onClick:this.handleBackdropClick},o.a.createElement("div",{className:M.a.modal},o.a.createElement("img",{src:e,alt:""}))),L)}}]),t}(n.Component),P=a(10),W=a.n(P);a(46);p.b.configure();var x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={keyWord:"",images:[],pageNumber:1,isModalOpen:!1,largeImageURL:"",error:null},a.onSearch=function(e){a.setState({keyWord:e,pageNumber:1})},a.fetchImages=function(){a.setState({isLoading:!0}),v(a.state.keyWord,a.state.pageNumber).then((function(e){return a.setState((function(t){return{images:[].concat(Object(l.a)(t.images),Object(l.a)(e)),pageNumber:t.pageNumber+1}}))})).catch((function(e){a.setState({error:e}),p.b.error("Something went wrong")})).finally((function(){a.setState({isLoading:!1})}))},a.openModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.keyWord;t.keyWord!==a&&(this.setState({images:[]}),this.fetchImages()),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.isModalOpen,r=e.largeImageURL,c=e.error;return o.a.createElement("div",{className:W.a.app},o.a.createElement(k,{onSearch:this.onSearch}),a&&o.a.createElement(y,null),t.length>0&&o.a.createElement(S,{images:t,openModal:this.openModal}),t.length>0&&o.a.createElement("button",{type:"button",className:W.a.button,onClick:this.fetchImages},"Load More"),n&&o.a.createElement(R,{onClose:this.closeModal,largeImageURL:r}),c&&o.a.createElement(p.a,null))}}]),t}(n.Component);a(47);c.a.render(o.a.createElement(x,{className:W.a.app}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c6c6a644.chunk.js.map